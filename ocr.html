
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –∞–∫—Ç–∞ –ø–æ—Å—Ç–∞–≤–∫–∏</title>
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    input, button { padding: 10px; margin: 10px 0; width: 100%; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    td, th { border: 1px solid #ccc; padding: 8px; }
    th { background-color: #f0f0f0; }
  </style>
</head>
<body>
  <h2>üì∑ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å —Ñ–æ—Ç–æ</h2>

  <input type="file" id="imageInput" accept="image/*">
  <button onclick="recognize()">–†–∞—Å–ø–æ–∑–Ω–∞—Ç—å —Ç–µ–∫—Å—Ç</button>

  <p><strong>–†–µ–∑—É–ª—å—Ç–∞—Ç OCR:</strong></p>
  <pre id="rawText" style="white-space: pre-wrap; background: #f9f9f9; padding: 10px;"></pre>

  <table id="resultTable">
    <thead><tr><th>–¢–µ–∫—Å—Ç —Å—Ç—Ä–æ–∫–∏</th></tr></thead>
    <tbody></tbody>
  </table>

  <script>
    async function recognize() {
      const file = document.getElementById('imageInput').files[0];
      if (!file) return alert("–ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ");

      const { data: { text } } = await Tesseract.recognize(file, 'rus+eng', {
        logger: m => console.log(m)
      });

      document.getElementById('rawText').textContent = text;

      const tbody = document.querySelector('#resultTable tbody');
      tbody.innerHTML = '';
      text.split('\n').forEach(line => {
        if (line.trim()) {
          const row = document.createElement('tr');
          row.innerHTML = `<td>${line.trim()}</td>`;
          tbody.appendChild(row);
        }
      });
    }
  </script>
</body>
</html>
